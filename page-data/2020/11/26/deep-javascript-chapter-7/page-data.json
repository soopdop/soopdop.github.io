{"componentChunkName":"component---src-templates-blog-post-template-index-tsx","path":"/2020/11/26/deep-javascript-chapter-7/","result":{"data":{"site":{"siteMetadata":{"title":"Harry Park's Blog"}},"markdownRemark":{"id":"3a8b9c73-fd01-57a1-98c2-7fb5fc2603ca","excerpt":"7.1.  태그위치와 레이지 로드  태그위치 는 block mode로 작동한다. script가 다 실행 될때까지 화면이 렌더링 되지 않는다. 그 이유는 로 html을 쓸 수도 있기 때문이라 한다. 따라서  태그는 html 문서의 가장 아래 쪽에 위치하는 것이 좋다. Lazy Load…","html":"<h2 id=\"71-code-classlanguage-textltscriptgtcode-태그위치와-레이지-로드\" style=\"position:relative;\"><a href=\"#71-code-classlanguage-textltscriptgtcode-%ED%83%9C%EA%B7%B8%EC%9C%84%EC%B9%98%EC%99%80-%EB%A0%88%EC%9D%B4%EC%A7%80-%EB%A1%9C%EB%93%9C\" aria-label=\"71 code classlanguage textltscriptgtcode 태그위치와 레이지 로드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.1. <code class=\"language-text\">&lt;script&gt;</code> 태그위치와 레이지 로드</h2>\n<h4 id=\"code-classlanguage-textltscriptgtcode-태그위치\" style=\"position:relative;\"><a href=\"#code-classlanguage-textltscriptgtcode-%ED%83%9C%EA%B7%B8%EC%9C%84%EC%B9%98\" aria-label=\"code classlanguage textltscriptgtcode 태그위치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">&lt;script&gt;</code> 태그위치</h4>\n<p><code class=\"language-text\">&lt;script&gt;</code>는 block mode로 작동한다. script가 다 실행 될때까지 화면이 렌더링 되지 않는다. 그 이유는 <code class=\"language-text\">document.write()</code>로 html을 쓸 수도 있기 때문이라 한다. 따라서 <code class=\"language-text\">&lt;script&gt;</code> 태그는 html 문서의 가장 아래 쪽에 위치하는 것이 좋다.</p>\n<h4 id=\"lazy-load-for-script-file\" style=\"position:relative;\"><a href=\"#lazy-load-for-script-file\" aria-label=\"lazy load for script file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lazy Load For Script File</h4>\n<p>위와 같은 blocking현상을 막기 위해서 lazy load를 구현하는 것이다. lazy load는 <code class=\"language-text\">window.attachEvent(&quot;onload&quot;)</code>와 <code class=\"language-text\">window.addEventListener(&quot;load&quot;)</code>를 이용해서 다음과 같이 구현한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> previousOnload\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>addEventListener<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"load\"</span><span class=\"token punctuation\">,</span> lazyload<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>attachEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">attachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onload\"</span><span class=\"token punctuation\">,</span> lazyload<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>onload<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// addEventListener와 attachEvnet가 없으면 onload로 구현하되,</span>\n    <span class=\"token comment\">// 이미 등록된 이벤트 핸들러를 백업해두었다가 나중에 같이 호출함.</span>\n    previousOnload <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>onload\n    window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">previousOnload</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">lazyload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// onload에 등록된 것도 없으면 그냥 할당.</span>\n    window<span class=\"token punctuation\">.</span>onload <span class=\"token operator\">=</span> lazyload <span class=\"token comment\">// this can be overwritten by another JS</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">lazyload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 새로운 script 태그를 만들고, 속성을 설정</span>\n    <span class=\"token keyword\">var</span> scriptTag <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      headTag <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"head\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    scriptTag<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./sleep.js\"</span><span class=\"token punctuation\">)</span>\n    scriptTag<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text/javascript\"</span><span class=\"token punctuation\">)</span>\n    scriptTag<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"async\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// way around if there is no head tag</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>headTag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      headTag <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>parentNode\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// DOM에 추가</span>\n    headTag<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>scriptTag<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">window.onload</code> 를 이용할 수 있지만, 이 방식은 다수의 이벤트 핸들러를 등록하지 못하므로 기존에 등록되어 있던 것을 다 덮어 써버릴 염려가 있다.</p>\n<h4 id=\"lazy-load-for-image-file\" style=\"position:relative;\"><a href=\"#lazy-load-for-image-file\" aria-label=\"lazy load for image file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lazy Load For Image File</h4>\n<p>우선 다음과 같이 <code class=\"language-text\">class</code> 명을 주고, <code class=\"language-text\">src</code>는 <code class=\"language-text\">data-src</code>로 준다. 중요한 점은 <code class=\"language-text\">width</code>와 <code class=\"language-text\">height</code> 속성을 태그에 미리 주어서 자리차지를 하고 있는 것이 미관에 좋다는 점이다. 하지만 모든 <code class=\"language-text\">img</code> 태그에 <code class=\"language-text\">width</code>와 <code class=\"language-text\">height</code>를 주는 것도 코드 관리상 좋은 방법은 아닌 것으로 보이므로 상황에 따라 잘 판단해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>img width<span class=\"token operator\">=</span><span class=\"token string\">\"640\"</span> height<span class=\"token operator\">=</span><span class=\"token string\">\"480\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"lazyload\"</span> data<span class=\"token operator\">-</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"./large_image.jpg\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>img\n    width<span class=\"token operator\">=</span><span class=\"token string\">\"64\"</span>\n    height<span class=\"token operator\">=</span><span class=\"token string\">\"64\"</span>\n    <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"lazyload\"</span>\n    data<span class=\"token operator\">-</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"./not_important_image.jpg\"</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>스크립트에서는 각 <code class=\"language-text\">img</code> 태그의 <code class=\"language-text\">data-src</code>를 <code class=\"language-text\">src</code>로 변경해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> previousOnload\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>addEventListener<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"load\"</span><span class=\"token punctuation\">,</span> lazyLoadImages<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>attachEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">attachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onload\"</span><span class=\"token punctuation\">,</span> lazyLoadImages<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>onload<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    previousOnload <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>onload\n    window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">previousOnload</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">lazyLoadImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span>onload <span class=\"token operator\">=</span> lazyLoadImages <span class=\"token comment\">// this can be overwritten by another JS</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// lazyLoad 클래스를 가진 element를 찾아서 data-src를 src로 바꾸어 주면 끝.</span>\n  <span class=\"token comment\">// 단, 이곳에 방어코드와 예외처리는 좀 더 필요할 것 같다.</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">lazyLoadImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> imgList <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByClassName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lazyLoad\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      length <span class=\"token operator\">=</span> imgList<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>\n      i\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      imgList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> imgList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data-src\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"loading-아이콘-보이기\" style=\"position:relative;\"><a href=\"#loading-%EC%95%84%EC%9D%B4%EC%BD%98-%EB%B3%B4%EC%9D%B4%EA%B8%B0\" aria-label=\"loading 아이콘 보이기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Loading 아이콘 보이기</h4>\n<p>돌아가는 모습의 애니메이션을 넣기 위해서는 loading.gif를 준비하고 다음과 같은 css를 모든 <code class=\"language-text\">img</code>에 적용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">.</span>lazyLoad <span class=\"token punctuation\">{</span>\n  background<span class=\"token operator\">-</span>image<span class=\"token operator\">:</span> <span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./loading.gif\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  background<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> <span class=\"token number\">64</span>px <span class=\"token number\">64</span>px<span class=\"token punctuation\">;</span>\n  background<span class=\"token operator\">-</span>repeat<span class=\"token operator\">:</span> no<span class=\"token operator\">-</span>repeat<span class=\"token punctuation\">;</span>\n  background<span class=\"token operator\">-</span>position<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그 후, <code class=\"language-text\">lazyLoadImages()</code>에서는 class를 변경하거나 createElement로 <code class=\"language-text\">img</code>를 만들어서 <code class=\"language-text\">replaceChild</code> element를 교체 한다.</p>\n<h2 id=\"72-인터넷-환경에서의-http-get-최적화\" style=\"position:relative;\"><a href=\"#72-%EC%9D%B8%ED%84%B0%EB%84%B7-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-http-get-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"72 인터넷 환경에서의 http get 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.2. 인터넷 환경에서의 HTTP GET 최적화</h2>\n<p>HTTP GET의 횟수를 줄이거나, 다운로드 되는 크기를 줄이는 것이 사용자 경험을 개선하는데 가장 효과적인 방법이다. 이 장에서는 몇가지 방법에 대해서 설명한다.</p>\n<h3 id=\"721-소스-미니피케이션으로-get-용량-최소화\" style=\"position:relative;\"><a href=\"#721-%EC%86%8C%EC%8A%A4-%EB%AF%B8%EB%8B%88%ED%94%BC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9C%BC%EB%A1%9C-get-%EC%9A%A9%EB%9F%89-%EC%B5%9C%EC%86%8C%ED%99%94\" aria-label=\"721 소스 미니피케이션으로 get 용량 최소화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.2.1. 소스 미니피케이션으로 GET 용량 최소화</h3>\n<p>minification을 통해서 소스의 다운로드 크기를 크게 줄일 수 있다. 이렇게 해주는 툴은 <a href=\"%22http://yui.github.io/yuicompressor/%22\">YUI compressor</a>, <a href=\"%22https://developers.google.com/closure/compiler/%22\">Google Closure complier</a>, <a href=\"%22http://crockford.com/javascript/jsmin%22\">JSMin</a> 등이 있다</p>\n<h3 id=\"722-파일을-압축해서-get-용량-최소화\" style=\"position:relative;\"><a href=\"#722-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EC%95%95%EC%B6%95%ED%95%B4%EC%84%9C-get-%EC%9A%A9%EB%9F%89-%EC%B5%9C%EC%86%8C%ED%99%94\" aria-label=\"722 파일을 압축해서 get 용량 최소화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.2.2. 파일을 압축해서 GET 용량 최소화</h3>\n<p>더 조사해 봐야 하지만, 서버와 클라이언트는 <a href=\"%22https://developer.mozilla.org/ko/docs/Web/HTTP/Content_negotiation%22\">Content negotiation</a> 과정을 거쳐서 동일한 URI에 대해서 여러가지 타입의 리소스를 주고 받을 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 767px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7019ed3a36913d61d2697e1f205e7b70/6c2f2/HTTPNegoServer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABDrAAAQ6wFQlOh8AAAC1klEQVQoz12SXUiTYRTHz9595XQNPzYd6vIDM3XObc6Za3NproV54deCWovhyIqZVkShIER31UWYkaSRRBhK0C7qQlBvNDanTcyWLvcORQmnYqk4Nyb09LwvBNUDB87Dc87vOed/Dni9XvD7/bC4uAg+nw9GR0dhYmKCtv9Pfn4B5EqlIM7OAWmBNOvY0fw8uaw4s1RdlqsvPyk9e6ZGCAghxt8WCoXoZJ1WBwRB0D6HywV+XCx0tHeAZ2YGhoeHmfPz8z0kSY7Mzc2NT09Pt+AwrtFgTKKAgH4h2Nvbo/2VlRWI7Eehp7sPpsbdNDCGx4N4gYD2HQ4HYAiL9PsDJBlAuENEwfETUaouFcP29vbg5ubm4Pr6+hCGDng8nnTfwjeoMZjg48g4DYnj81kCPp93JF0Si6+M0H6Y4/F8+ux0uhCuDk1NTXVRjWjKNGIIh8NoeXkZYR3RwcEBGhsbK2MxuaL62obsqopT6Qq5Mo5iJiXE52SkSwplRQre895enm9hwet2u5HL5UJkIPAEx7B1uvIUCAaD1ViLRvyTZXd39/Sr/n7hJYtVcvWKPfNyU3OqrckWM/RmkGi51soyGIwEJUt7RydzY2Pjy+zsLMK5KLi21o2BzAp9RTI9XVpHbO7JSfj+8wc87nrKftb3mvXi5SvWuw/viYcPHrHfDjgILosHdbV1YDBWEVtbW16sN8JSodXVVRqoL9enQDQaJXCbzMrKyliTyXQoLU3CkxfKEosL5YkqZYlQJVcKS5QqEV6NFJWiRKg5rklWq9QJWDet0+msDgQCxqWlpRyqILu9hQk7Ozt0dSKhiEENwFTfyGu2NWfZrLaMixcsEst5s7ihtv6wokjFUSnUHO0JLVdRpGBTOZFIBLD+gIE0w2w2/7u4poZzcK/zPvvO7bvittZb4hb7jdS26zcF5NdFhrHKCNI8GWAgYOCf/SVwuwSukvLBarXCbyz5W2piciv2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"HTTPNegoServer\"\n        title=\"HTTPNegoServer\"\n        src=\"/static/7019ed3a36913d61d2697e1f205e7b70/6c2f2/HTTPNegoServer.png\"\n        srcset=\"/static/7019ed3a36913d61d2697e1f205e7b70/772e8/HTTPNegoServer.png 200w,\n/static/7019ed3a36913d61d2697e1f205e7b70/e17e5/HTTPNegoServer.png 400w,\n/static/7019ed3a36913d61d2697e1f205e7b70/6c2f2/HTTPNegoServer.png 767w\"\n        sizes=\"(max-width: 767px) 100vw, 767px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>클라이언트는 서버로 요청을 보낼 시 <code class=\"language-text\">Accept-*</code> 헤더에 원하는 타입을 나열하여 서버로 요청을 보내고, 서버는 <code class=\"language-text\">Content-*</code>에 컨텐트의 타입을 명시하여 응답하는 방식이다. <code class=\"language-text\">Accept-Encoding</code>헤더에 gzip 또는 deflate를 넣어서 보내면 서버는 응답에 압축된 데이터를 넣어서 보내준다.</p>\n<p>책에서는 아파치가 압축을 제공하기 위한 설정 방법에 대해서 설명하고 있지만, 딱히 기억해야할 만한 것은 아니다.</p>\n<h3 id=\"723-get-요청-횟수-최소화파일-합치기\" style=\"position:relative;\"><a href=\"#723-get-%EC%9A%94%EC%B2%AD-%ED%9A%9F%EC%88%98-%EC%B5%9C%EC%86%8C%ED%99%94%ED%8C%8C%EC%9D%BC-%ED%95%A9%EC%B9%98%EA%B8%B0\" aria-label=\"723 get 요청 횟수 최소화파일 합치기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.2.3. GET 요청 횟수 최소화(파일 합치기)</h3>\n<p>다운로드 크기를 최소화 하는 방법 외에 요청의 횟수 자체를 줄여 서버의 부담을 덜 수 있다.</p>\n<h4 id=\"script-파일-합치기\" style=\"position:relative;\"><a href=\"#script-%ED%8C%8C%EC%9D%BC-%ED%95%A9%EC%B9%98%EA%B8%B0\" aria-label=\"script 파일 합치기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Script 파일 합치기</h4>\n<p>다수의 js파일을 로딩할 경우 다수의 <code class=\"language-text\">&lt;script&gt;</code>를 서버로 요청한다. 이 것을 하나로 줄이기 위해서 서버에 배포하기 전, 추가적인 빌드 과정을 통해서 js파일을 하나로 합치고, 더불어 압축하거나 미니피케이션까지 수행하기도 한다. 이렇게 하는 것에는 장단점이 있다.</p>\n<ol>\n<li>\n<p>장점</p>\n<ul>\n<li>요청/응답 횟수의 최소화.</li>\n<li>gzip 등의 압축 처리를 한번에 할 수 있음.</li>\n</ul>\n</li>\n<li>\n<p>단점</p>\n<ul>\n<li>추가적인 빌드 과정이 필요함.</li>\n<li>부분 수정이 있을 경우, 캐시 효율이 떨어짐.</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"주의할-점\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90\" aria-label=\"주의할 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의할 점</h4>\n<p>각 js 파일에서 전역 “use strict”를 사용할 경우 문제가 발생할 수 있으니, local strict 모드를 사용하는 것이 좋다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"use strict\"</span>\n  <span class=\"token comment\">// 생략</span>\n<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"image-파일-합치기\" style=\"position:relative;\"><a href=\"#image-%ED%8C%8C%EC%9D%BC-%ED%95%A9%EC%B9%98%EA%B8%B0\" aria-label=\"image 파일 합치기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Image 파일 합치기</h4>\n<p>Sprite Image를 사용하여 하나의 이미지를 받은 후 잘라서 사용하는 방식이다. 특히 아이콘과 같은 작은 이미지를 많이 사용할 때 각각을 서버로 요청하는 대신 한번의 요청으로 많은 이미지를 받을 수 있다는 장점이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>style<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">.</span>flag <span class=\"token punctuation\">{</span>\n    background<span class=\"token operator\">-</span>image<span class=\"token operator\">:</span> <span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"flags.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    background<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> <span class=\"token number\">20</span>px auto<span class=\"token punctuation\">;</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">20</span>px<span class=\"token punctuation\">;</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">13</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">.</span>en <span class=\"token punctuation\">{</span>\n    background<span class=\"token operator\">-</span>position<span class=\"token operator\">:</span> <span class=\"token number\">0</span>px <span class=\"token operator\">-</span><span class=\"token number\">12</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">.</span>cn <span class=\"token punctuation\">{</span>\n    background<span class=\"token operator\">-</span>position<span class=\"token operator\">:</span> <span class=\"token number\">0</span>px <span class=\"token operator\">-</span><span class=\"token number\">23</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">.</span>jp <span class=\"token punctuation\">{</span>\n    background<span class=\"token operator\">-</span>position<span class=\"token operator\">:</span> <span class=\"token number\">0</span>px <span class=\"token operator\">-</span><span class=\"token number\">38</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>img <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"flag ko\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>img<span class=\"token operator\">></span>Korean<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>img <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"flag en\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>img<span class=\"token operator\">></span>English<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>img <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"flag cn\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>img<span class=\"token operator\">></span>Chinese<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>img <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"flag jp\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>img<span class=\"token operator\">></span>Japanese<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 소스와 같이 <code class=\"language-text\">img</code>태그에 <code class=\"language-text\">src</code>를 설정하는 것이 아니라, 스타일에 <code class=\"language-text\">background-image</code>를 설정하고 각 이미지 마다 <code class=\"language-text\">background-position</code>을 다르게 설정하여 사용하고 있다.</p>\n<h3 id=\"724-cache-설정\" style=\"position:relative;\"><a href=\"#724-cache-%EC%84%A4%EC%A0%95\" aria-label=\"724 cache 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.2.4. Cache 설정</h3>\n<ol>\n<li>\n<p>Expires 헤더</p>\n<ul>\n<li>특정 요청의 응답에 Expire time을 지정하면 그 시간이 되기 전까지 브라우저는 cache로부터 데이터를 가져다 쓴다. 하지만 웹페이지 변경 시 업데이트가 되지 않을 수 있는 문제가 있다.</li>\n</ul>\n</li>\n<li>\n<p>ETag 헤더</p>\n<ul>\n<li>일종의 해쉬이다. 클라이언트는 특정 요청에 대한 ETag 값을 보내면, 서버도 해당 요청의 최신 ETag와 비교해서 같다면, <code class=\"language-text\">HTTP 304 Not Modified</code> 응답을 보낸다. 그러면 클라이언트는 cache를 사용한다.</li>\n</ul>\n</li>\n</ol>","frontmatter":{"title":"속깊은 JavaScript, Chapter 7. JavaScript 성능과 사용자 경험 개선","date":"November 26, 2020","description":null},"tableOfContents":"<ul>\n<li><a href=\"/2020/11/26/deep-javascript-chapter-7/#71-code-classlanguage-textltscriptgtcode-%ED%83%9C%EA%B7%B8%EC%9C%84%EC%B9%98%EC%99%80-%EB%A0%88%EC%9D%B4%EC%A7%80-%EB%A1%9C%EB%93%9C\">7.1. <code class=\"language-text\">&lt;script&gt;</code> 태그위치와 레이지 로드</a></li>\n<li>\n<p><a href=\"/2020/11/26/deep-javascript-chapter-7/#72-%EC%9D%B8%ED%84%B0%EB%84%B7-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-http-get-%EC%B5%9C%EC%A0%81%ED%99%94\">7.2. 인터넷 환경에서의 HTTP GET 최적화</a></p>\n<ul>\n<li><a href=\"/2020/11/26/deep-javascript-chapter-7/#721-%EC%86%8C%EC%8A%A4-%EB%AF%B8%EB%8B%88%ED%94%BC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9C%BC%EB%A1%9C-get-%EC%9A%A9%EB%9F%89-%EC%B5%9C%EC%86%8C%ED%99%94\">7.2.1. 소스 미니피케이션으로 GET 용량 최소화</a></li>\n<li><a href=\"/2020/11/26/deep-javascript-chapter-7/#722-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EC%95%95%EC%B6%95%ED%95%B4%EC%84%9C-get-%EC%9A%A9%EB%9F%89-%EC%B5%9C%EC%86%8C%ED%99%94\">7.2.2. 파일을 압축해서 GET 용량 최소화</a></li>\n<li><a href=\"/2020/11/26/deep-javascript-chapter-7/#723-get-%EC%9A%94%EC%B2%AD-%ED%9A%9F%EC%88%98-%EC%B5%9C%EC%86%8C%ED%99%94%ED%8C%8C%EC%9D%BC-%ED%95%A9%EC%B9%98%EA%B8%B0\">7.2.3. GET 요청 횟수 최소화(파일 합치기)</a></li>\n<li><a href=\"/2020/11/26/deep-javascript-chapter-7/#724-cache-%EC%84%A4%EC%A0%95\">7.2.4. Cache 설정</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/2020/11/26/deep-javascript-chapter-9/"},"frontmatter":{"title":"속깊은 JavaScript, Chapter 9. JavaScript 표준"}},"next":{"fields":{"slug":"/2020/11/26/deep-javascript/"},"frontmatter":{"title":"속깊은 JavaScript 빠르게 읽기"}}},"pageContext":{"id":"3a8b9c73-fd01-57a1-98c2-7fb5fc2603ca","previousPostId":"0df413c4-d556-5c4f-b589-1e153a4537f0","nextPostId":"1f6d4f51-3b24-50c9-b885-0f0d7cda373f"}},"staticQueryHashes":["2841359383"]}